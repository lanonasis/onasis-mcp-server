# CLI-Aligned MCP Server Configuration
# This configuration aligns with @lanonasis/cli v1.5.2+ patterns

# Node Environment
NODE_ENV=development
PORT=3001
HOST=0.0.0.0

# MCP Server Configuration (CLI-aligned)
MCP_WS_PORT=3002
MCP_SSE_PORT=3003
MCP_HOST=0.0.0.0

# CLI Integration Settings
CLI_ALIGNED=true
CLI_CONFIG_DIR=~/.maas
CLI_AUTH_TIMEOUT=5000

# Authentication Configuration (matches CLI patterns)
# Use same discovery endpoint as CLI
SERVICE_DISCOVERY_URL=https://api.lanonasis.com/.well-known/onasis.json

# API Configuration (CLI-compatible)
MEMORY_API_URL=https://api.lanonasis.com/api/v1
CORE_API_URL=https://api.lanonasis.com

# Vendor Key Authentication (CLI format)
# LANONASIS_VENDOR_KEY=pk_orgId_publicKey.sk_secretKey
# LANONASIS_TOKEN=eyJhbGciOiJIUzI1NiIs...

# MCP Protocol Configuration
MCP_ENABLED=true
MCP_PROTOCOL_VERSION=2024-11-05
MCP_SDK_VERSION=1.17.0

# Security Settings (CLI-aligned)
CORS_ORIGIN=https://lanonasis.com,https://api.lanonasis.com,https://mcp.lanonasis.com
CORS_CREDENTIALS=true

# Rate Limiting (generous for CLI usage)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_MAX_REQUESTS_UNAUTH=100

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
MCP_VERBOSE=false

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# CLI Integration Features
PREFER_CLI_AUTH=true
ENABLE_VENDOR_KEY_AUTH=true
ENABLE_JWT_AUTH=true
ENFORCE_ORGANIZATION_ISOLATION=true

# Development Features
ENABLE_HTTP_BRIDGE=true
ENABLE_WEBSOCKET=true
ENABLE_SSE=true
ENABLE_DEVELOPMENT_TOOLS=true

# Production Overrides (when NODE_ENV=production)
# These will be used in production deployment
PRODUCTION_API_URL=https://api.lanonasis.com/api/v1
PRODUCTION_MCP_URL=https://mcp.lanonasis.com
PRODUCTION_CORS_ORIGIN=https://lanonasis.com,https://api.lanonasis.com
PRODUCTION_LOG_LEVEL=warn